//Version for FreeNAS

// lists all Stats you can get
list = [ "load" , "HDDtemp" , "HDDusage" , "liveNet" , "cpu" , "login"];


//Path to the json Files
//WITH trailing / IMPORTANT
path = "json/";


//enabled:  shall script check this Stat
//type:     
//      0:  Graph       (Shows values over Time)
//      1:  Multi Graph ( (Used Disk space etc)
//      2:  CSV Table   (Shows Table of Data)
//cmmd:     command to get the status
//regex:    which regular Expression should be applied
//If Type = 2, output is not regexed, the regex value is used as Header for the Table

//CPU load
load =
{
    enabled = false;
    type = 0;
    cmmd = "uptime";
    regex = "[0-9]?[0-9],[0-9][0-9]";
}

//HDD Temperatures
HDDtemp = 
{
    enabled = false;
    type = 0;
    cmmd = 
       "smartctl -a /dev/ada0 | awk '/Temperature_Celsius/{print $0}' | awk '{print $10}';
        smartctl -a /dev/ada1 | awk '/Temperature_Celsius/{print $0}' | awk '{print $10}';
        smartctl -a /dev/ada2 | awk '/Temperature_Celsius/{print $0}' | awk '{print $10}';
        smartctl -a /dev/ada3 | awk '/Temperature_Celsius/{print $0}' | awk '{print $10}';
        smartctl -a /dev/ada4 | awk '/Temperature_Celsius/{print $0}' | awk '{print $10}'";
    regex = "[0-9]+";
}

//Disk Usage
HDDusage = 
{
    enabled = false;
    type = 1;
    cmmd = 
        "df | grep ^/dev/disk1 | awk '{print $3}';
         df | grep ^/dev/disk2 | awk '{print $3}'";
    regex = "[0-9]+";
}

//NetworkTraffic
liveNet =
{
    enabled = false;
    type = 0;
    cmmd = "ifstat -i en0 1 1 | tail -1";
    regex = "[0-9]?[0-9]\\.[0-9][0-9]";
}

//CPU Temperature
cpu =
{
    enabled = false;
    type = 0;
    cmmd = "sysctl -a dev.cpu";
    regex = "temperature: [0-9][0-9]\\.[0-9]C"
}

//Table of last logins
login = 
{
    enabled = true;
    type = 2;
    cmmd = "last | head -10 | grep -v ^reboot | grep -v wtmp | grep -v ^$ | grep -v ^$ | awk '{ if($1!=\"\") gsub(\"logged\", \"Now\", $9); print $1 \";\" $7 \";\" $9 \";\"}'";
    regex = "User; Von; Bis";
}
